---
import MainLayout from '../../../layouts/MainLayout.astro';
import Breadcrumb from '../../../components/Breadcrumb.astro';
import { getCollection } from 'astro:content';

const assetLibraries = await getCollection('asset-library');
---

<MainLayout title="模型资产库">
  <Breadcrumb 
    links={[
      { href: '/', label: '首页' },
      { href: '/asset-library', label: '资产库' },
      { href: '#', label: '模型' }
    ]} 
  />
  
  <h2>所有模型</h2>
  
  <div class="content-grid grid-5">
    {assetLibraries.map(assetLibrary => (
      <a href={`/asset-library/${assetLibrary.id}`} class="content-card" aria-label={`查看模型：${assetLibrary.data.title}`}>
        <div class="card-image">
          <img 
            src={assetLibrary.data.thumbnail || "/images/noimg.gif"} 
            alt={assetLibrary.data.title} 
 
            class="placeholder-image" 
          />
        </div>
        <div class="card-content">
          <span class="card-tag">模型</span>
          <h3 class="card-title">{assetLibrary.data.title}</h3>
          <p class="card-date">{assetLibrary.data.date ? new Date(assetLibrary.data.date).toLocaleDateString('zh-CN') : '未知日期'}</p>
        </div>
      </a>
    ))}
  </div>
  
  {assetLibraries.length === 0 && (
    <p style="text-align: center; margin-top: 2rem;">暂无模型项目</p>
  )}
</MainLayout>