---
import Comments from '../components/Comments.astro';
---

<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Giscus 测试页面</title>
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        max-width: 800px;
        margin: 0 auto;
        padding: 2rem;
        line-height: 1.6;
      }
      .instructions {
        background-color: #f0f8ff;
        border-left: 4px solid #007acc;
        padding: 1rem;
        margin: 1rem 0;
        border-radius: 0 4px 4px 0;
      }
      .troubleshooting {
        background-color: #fff8dc;
        border-left: 4px solid #ff8c00;
        padding: 1rem;
        margin: 1rem 0;
        border-radius: 0 4px 4px 0;
      }
      .debug-info {
        background-color: #f5f5f5;
        border: 1px solid #ddd;
        padding: 1rem;
        margin: 1rem 0;
        border-radius: 4px;
      }
      .debug-info h3 {
        margin-top: 0;
      }
      .debug-info ul {
        margin-bottom: 0;
      }
    </style>
  </head>
  <body>
    <h1>Giscus 配置测试</h1>
    
    <div class="instructions">
      <h2>使用说明</h2>
      <p>如果下方评论区域显示正常但没有输入框，请按以下步骤操作：</p>
      <ol>
        <li>确保您已登录GitHub账户</li>
        <li>点击评论区域内的"Sign in with GitHub"按钮</li>
        <li>授权Giscus应用访问您的GitHub账户</li>
        <li>刷新页面后应能看到评论输入框</li>
      </ol>
    </div>
    
    <div class="troubleshooting">
      <h2>故障排除</h2>
      <p>如果仍然无法显示输入框，请检查：</p>
      <ul>
        <li>Giscus应用是否已正确安装到仓库</li>
        <li>仓库是否为公开状态（已确认）</li>
        <li>CategoryId是否正确（可能需要重新获取）</li>
      </ul>
    </div>
    
    <div class="debug-info">
      <h3>当前Giscus配置信息</h3>
      <ul>
        <li><strong>Repository:</strong> Gautown/blenderdp</li>
        <li><strong>Repo ID:</strong> R_kgDOQcA4pw</li>
        <li><strong>Category:</strong> Announcements</li>
        <li><strong>Category ID:</strong> DIC_kwDOQcA4p84CztQg</li>
        <li><strong>Mapping:</strong> pathname</li>
        <li><strong>Strict:</strong> 0</li>
      </ul>
    </div>
    
    <h2>评论测试区域</h2>
    <p>如果配置正确，下方应显示评论区域和输入框：</p>
    
    <Comments />
    
    <div style="margin-top: 2rem; padding: 1rem; background-color: #e8f4fd; border-left: 4px solid #007acc;">
      <h3>测试说明</h3>
      <p>如果您已经正确登录并授权，但仍看不到评论内容：</p>
      <ol>
        <li>请尝试在下方留下一条测试评论</li>
        <li>评论后刷新页面，查看评论是否显示</li>
        <li>如果评论仍然不显示，请检查网络控制台是否有错误信息</li>
      </ol>
    </div>
  </body>
</html>