---
import 'giscus';

interface Props {
  term?: string;
  category?: string;
}

const { term = '', category = '' } = Astro.props;
---

<div class="comments-section">
  <h2>评论</h2>
  <giscus-widget
    repo="Gautown/blenderdp"
    repo-id="R_kgDOQcA4pw"
    category="General"
    category-id="DIC_kwDOQcA4p84CztQg"
    mapping="pathname"
    term={term}
    theme="light"
    reactions-enabled="1"
    emit-metadata="0"
    input-position="bottom"
    lang="zh-CN"
    crossorigin="anonymous"
    async
  />
</div>

<style>
  .comments-section {
    margin-top: 2rem;
    padding-top: 2rem;
    border-top: 1px solid #eee;
  }
  
  .comments-section h2 {
    margin-bottom: 1rem;
    color: #333;
  }
</style>