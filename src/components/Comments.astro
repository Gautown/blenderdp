---
interface Props {
  term?: string;
  category?: string;
}

const { term = '', category = '' } = Astro.props;
---

<div class="comments-section">
  <h2>评论</h2>
  <!-- Giscus组件将在客户端加载 -->
  <script 
    client:load
    src="https://giscus.app/client.js"
    data-repo="Gautown/blenderdp"
    data-repo-id="R_kgDOQcA4pw"
    data-category="Announcements"
    data-category-id="DIC_kwDOQcA4p84CztQg"
    data-mapping="pathname"
    data-strict="0"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="top"
    data-theme="light"
    data-lang="zh-CN"
    crossorigin="anonymous"
    async>
  </script>
  
  <!-- 添加一个容器，用于显示Giscus -->
  <div class="giscus"></div>
</div>

<style>
  .comments-section {
    margin-top: 2rem;
    padding-top: 2rem;
    border-top: 1px solid #eee;
  }
  
  .comments-section h2 {
    margin-bottom: 1rem;
    color: #333;
  }
  
  /* 隐藏调试信息，除非需要 */
  #giscus-debug {
    display: none;
  }
  
  /* 当giscus未加载时显示调试信息 */
  .giscus-error #giscus-debug {
    display: block;
  }
</style>